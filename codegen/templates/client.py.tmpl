# Code generated by `py-sdk-gen`. DO NOT EDIT.
import os
import httpx
from functools import cached_property

from ._service import Resource, AsyncResource
{{- range .Resources }}
from .{{ .Package }} import {{ .Name }}Resource, Async{{ .Name }}Resource
{{- end }}

BASE_URL = "https://api.sumup.com"


class Sumup(Resource):
    def __init__(self, api_key: str = None, base_url: str = BASE_URL, timeout: httpx.Timeout = None):
        self.api_key = api_key or os.getenv("SUMUP_API_KEY")
        super().__init__(httpx.Client(
            base_url=base_url,
            timeout=timeout,
			headers={
				"User-Agent": f"sumup-py/{self.version()}",
				"Authorization": f"Bearer {self.api_key}",
			},
        ))

{{- range .Resources }}
    @cached_property
    def {{ .Package }}(self) -> {{ .Name }}Resource:
        from .{{ .Package }}.resource import {{ .Name }}Resource

        return {{ .Name }}Resource(self._client)
{{- end }}


class AsyncSumup(AsyncResource):
    def __init__(self, api_key: str = None, base_url: str = BASE_URL, timeout: httpx.Timeout = None):
        self.api_key = api_key or os.getenv("SUMUP_API_KEY")
        super().__init__(httpx.AsyncClient(
            base_url=base_url,
            timeout=timeout,
			headers={
				"User-Agent": f"sumup-py/{self.version()}",
				"Authorization": f"Bearer {self.api_key}",
			},
        ))

{{- range .Resources }}
    @cached_property
    def {{ .Package }}(self) -> Async{{ .Name }}Resource:
        from .{{ .Package }}.resource import Async{{ .Name }}Resource

        return Async{{ .Name }}Resource(self._client)
{{- end }}
